[{"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/App.js":"1","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Products/Products.jsx":"2","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/Checkout/Checkout.jsx":"3","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Navbar/styles.js":"4","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/CartItem/CartItem.jsx":"5","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Products/Product/styles.js":"6","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/CustomTextField.jsx":"7","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/CartItem/styles.js":"8","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/Cart.jsx":"9","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/styles.js":"10","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/AddressForm.jsx":"11","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/Review.jsx":"12","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/index.js":"13","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/PaymentForm.jsx":"14"},{"size":3245,"mtime":1610555176370,"results":"15","hashOfConfig":"16"},{"size":763,"mtime":1610498774741,"results":"17","hashOfConfig":"16"},{"size":3962,"mtime":1610564196971,"results":"18","hashOfConfig":"16"},{"size":1513,"mtime":1610680131637,"results":"19","hashOfConfig":"16"},{"size":1203,"mtime":1610679795533,"results":"20","hashOfConfig":"16"},{"size":357,"mtime":1610484283714,"results":"21","hashOfConfig":"16"},{"size":536,"mtime":1610561680023,"results":"22","hashOfConfig":"16"},{"size":353,"mtime":1610679344424,"results":"23","hashOfConfig":"16"},{"size":1742,"mtime":1610679742796,"results":"24","hashOfConfig":"16"},{"size":569,"mtime":1610680039467,"results":"25","hashOfConfig":"16"},{"size":5737,"mtime":1610551078963,"results":"26","hashOfConfig":"16"},{"size":893,"mtime":1610552152046,"results":"27","hashOfConfig":"16"},{"size":146,"mtime":1610478335234,"results":"28","hashOfConfig":"16"},{"size":2811,"mtime":1610562725110,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"13nx8nk",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/App.js",[],["61","62"],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Products/Products.jsx",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/Checkout/Checkout.jsx",["63"],"// import React from 'react'\nimport React, { useState, useEffect } from 'react';\nimport { Paper, Stepper, Step, StepLabel, Typography, CircularProgress, Divider, Button } from '@material-ui/core';\nimport { Link, useHistory } from 'react-router-dom';\n\n// for token use\nimport { commerce } from '../../../lib/commerce';\n\nimport PaymentForm from '../PaymentForm';\nimport useStyles from './styles';\nimport AddressForm from '../AddressForm';\n\nconst steps = ['Shipping address', 'Payment details'];\n\n\nconst Checkout = ({ cart, onCaptureCheckout, order, error }) => {\n\n  const [activeStep, setActiveStep] = useState(0);\n  // checkOutToken\n  const [checkoutToken, setCheckoutToken] = useState(null);\n  const [isFinished, setIsFinished] = useState(false);\n  const [shippingData, setShippingData] = useState({});\n  const classes = useStyles();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (cart.id) {\n      // generate token\n      const generateToken = async () => {\n        // if success we set the token\n        try {\n          // cart id and type of generate to generate token\n          const token = await commerce.checkout.generateToken(cart.id, { type: 'cart' });\n          // console.log(token);\n          // set check out token\n          setCheckoutToken(token);\n        }\n        // if fail send error\n        catch (error) {\n          // if (activeStep !== steps.length) history.push('/');\n          history.push('/');\n          // console.log(err);\n        }\n      };\n\n      generateToken();\n    }\n  }, [cart]);\n\n  const nextStep = () => setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  const backStep = () => setActiveStep((prevActiveStep) => prevActiveStep - 1);\n\n  const next = (data) => {\n    setShippingData(data);\n    nextStep();\n  };\n\n  const timeout = () => {\n    setTimeout(() => {\n      setIsFinished(true);\n      // console.log('Hello, World! ')\n    }, 3000);\n  }\n\n  // show information only when order is done\n  let Confirmation = () => (order.customer ? (\n    <>\n      <div>\n        <Typography variant=\"h5\">Thank you for your purchase, {order.customer.firstname} {order.customer.lastname}!</Typography>\n        <Divider className={classes.divider} />\n        <Typography variant=\"subtitle2\">Order ref: {order.customer_reference}</Typography>\n      </div>\n      <br />\n      <Button component={Link} to=\"/\" variant=\"outlined\" type=\"button\" >Back to home</Button>\n    </>\n  ) : isFinished ? (\n    <>\n      <div>\n        <Typography variant=\"h5\">Thank you for your purchase</Typography>\n        <Divider className={classes.divider} />\n      </div>\n      <br />\n      <Button component={Link} to=\"/\" variant=\"outlined\" type=\"button\" >Back to home</Button>\n    </>\n  ) : (\n        <div className={classes.spinner}>\n          <CircularProgress />\n        </div>\n      ));\n\n  // handle errors\n  if (error) {\n    Confirmation = () => (\n      <>\n        <Typography variant=\"h5\">Error: {error}</Typography>\n        <br />\n        <Button component={Link} variant=\"outlined\" type=\"button\" to=\"/\">Back to home</Button>\n      </>\n    );\n  }\n\n  const Form = () => activeStep === 0\n    ? <AddressForm checkoutToken={checkoutToken} next={next} />\n    : <PaymentForm shippingData={shippingData} checkoutToken={checkoutToken} nextStep={nextStep} backStep={backStep} onCaptureCheckout={onCaptureCheckout} timeout={timeout} />\n\n  return (\n    <>\n      <div className={classes.toolbar} />\n      <main className={classes.layout}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h4\" align=\"center\">Checkout</Typography>\n          <Stepper activeStep={activeStep} className={classes.stepper}>\n            {steps.map((step) => (\n              <Step key={step}>\n                <StepLabel>{step}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          {activeStep === steps.length ? <Confirmation /> : checkoutToken && <Form />}\n        </Paper>\n      </main>\n    </>\n  )\n}\n\nexport default Checkout\n","/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Navbar/styles.js",[],["64","65"],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/CartItem/CartItem.jsx",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Products/Product/styles.js",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/CustomTextField.jsx",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/CartItem/styles.js",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/Cart.jsx",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/Cart/styles.js",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/AddressForm.jsx",["66","67"],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/Review.jsx",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/index.js",[],"/Users/mingwu/Myprogrames/myGithub/outSportStoreApp/src/components/CheckoutForm/PaymentForm.jsx",[],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":48,"column":6,"nodeType":"74","endLine":48,"endColumn":12,"suggestions":"75"},{"ruleId":"68","replacedBy":"76"},{"ruleId":"70","replacedBy":"77"},{"ruleId":"72","severity":1,"message":"78","line":50,"column":6,"nodeType":"74","endLine":50,"endColumn":8,"suggestions":"79"},{"ruleId":"72","severity":1,"message":"80","line":77,"column":6,"nodeType":"74","endLine":77,"endColumn":27,"suggestions":"81"},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["84"],["82"],["83"],"React Hook useEffect has a missing dependency: 'checkoutToken.id'. Either include it or remove the dependency array.",["85"],"React Hook useEffect has missing dependencies: 'checkoutToken.id' and 'shippingCountry'. Either include them or remove the dependency array.",["86"],"no-global-assign","no-unsafe-negation",{"desc":"87","fix":"88"},{"desc":"89","fix":"90"},{"desc":"91","fix":"92"},"Update the dependencies array to be: [cart, history]",{"range":"93","text":"94"},"Update the dependencies array to be: [checkoutToken.id]",{"range":"95","text":"96"},"Update the dependencies array to be: [checkoutToken.id, shippingCountry, shippingSubdivision]",{"range":"97","text":"98"},[1519,1525],"[cart, history]",[1884,1886],"[checkoutToken.id]",[3030,3051],"[checkoutToken.id, shippingCountry, shippingSubdivision]"]